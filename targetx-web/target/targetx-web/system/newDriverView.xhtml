<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:gis="http://gisfaces.com"
	xmlns:p="http://primefaces.org/ui"
	template="/template/template.xhtml">
		<ui:define name="metadata">
	</ui:define>
	<ui:define name="content">
	<h:form>
	<p:panel id="mainPanel" header="Nowy kierowca">
					<p:panel header="Nowy kierowca" toggleable="true" widgetVar="panel">  
      <p:panelGrid columns="2">
      <f:facet name="header">Dane kierowcy</f:facet>  

      <p:outputLabel value="Imię:"/>
      <p:inputText id="fname" value="#{driverAndVehicleList.newDriver.FName}"/>
      
      <p:outputLabel value="Nazwisko:"/>
      <p:inputText id="lname" value="#{driverAndVehicleList.newDriver.LName}"/>
      
      <p:outputLabel value="Numer telefonu:"/>
      <p:inputText id="phonenumber" value="#{driverAndVehicleList.newDriver.phone}"/>

      <p:outputLabel value="Numer rejestracyjny:"/>
      
      <h:selectOneMenu value="#{driverAndVehicleList.selectedVehicle}" converter="driverAndVehicleConv">  
         <f:selectItems value="#{driverAndVehicleList.vehicleList}" var="vehicle" itemValue="#{vehicle}" itemLabel="#{vehicle.regNum}" />  
           <p:ajax update="marka,model1"/>
         </h:selectOneMenu>  
      
      <p:outputLabel value="Marka:"/>
      <p:outputLabel id="marka" value="#{driverAndVehicleList.selectedVehicle.brand}"/>
      
      <p:outputLabel value="Model:"/>
      <p:outputLabel id="model1" value="#{driverAndVehicleList.selectedVehicle.model}"/>

        <f:facet name="footer"> 
      	<p:commandButton value="Dodaj kierowcę" action="#{driverAndVehicleList.addNewDriver}" icon="ui-icon-check"/>
      	<p:commandButton value="Dodaj pojazd" type="button" onclick="dlg.show()"/>   

      </f:facet>
    </p:panelGrid>
</p:panel>
 <p:separator/>
		<p:panel id="driversPanel" header="Kierowcy">
            <p:dataTable id="drivers" var="driver" value="#{driverList.driverList}" position="center">
                <p:column headerText="ID kierowcy">
                    #{driver.IDDriver}
                </p:column>
                
                <p:column headerText="Imię">
                    #{driver.FName}
                </p:column>
                
                <p:column headerText="Nazwisko">
                    #{driver.LName}
                </p:column>
                
                <p:column headerText="Numer telefonu">
                    #{driver.phone}
                </p:column>
   
            </p:dataTable>
            </p:panel>
</p:panel>
	</h:form>
	</ui:define>
</ui:composition>